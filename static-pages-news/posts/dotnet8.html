<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Clean Blog - Start Bootstrap Theme</title>
        <link rel="icon" type="image/x-icon" href="../assets/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="../css/styles.css" rel="stylesheet" />
    </head>
    <body>
        <!-- Navigation-->
       
        <!-- Page Header-->
        <header class="masthead" style="background-image: url('../assets/img/dotnet8.jpg')">
            <div class="container position-relative px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        <div class="post-heading">
                            <h1 dir="rtl" class="lead">החידושים העיקריים ב DotNet blazor עם DotNet 8</h1>
                            <h2 class="subheading" dir="rtl">כל מה שצריך על blazor!</h2>
                            <span class="meta" dir="rtl">
                                Posted by
                                <a href="#!">bs dot-net</a>
                                20/2/2024
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <!-- Post Content-->
        <article class="mb-4">
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        <style>
                            p{
                                direction:rtl;
                            }
                        </style>
                        
                        <h3 class="text-center mt-3">DotNet8</h3>
                        <div class="text-center">
                            <img src="../img/imgnew/dotnet.png" width="100"/>
                        </div>
                        
                        
                        <p class="fs-3 text-center">
                            Blazor with  dotnet 8
                        </p>
                       
                        <p>מייקרוסופט משיקה את dotnet 8  ועימה חידושים רבים במגוון תחומי פיתוח כשהמשמעותי שביניהם הוא החידושים הקשורים בסביבת העבודה החדשה שלה – dotnet blazor.</p>
                          
                        <p>אז יצאנו לסכם לכם מה חדש, מתי כדאי להשתמש בדרכים החדשות, ומתי אולי תעדיפו להשאר עם הגישה הקודמת.</p>
                          
                        <p>עד עכשיו blazor עבדה בגישה של CSR  = client side render. פירושו של דבר השרת על כל בקשה דף מבוסס blazor יחזיר דף יחסית ריק! </p>
                        
                        <div class="text-center"><img src="../img/imgnew/dot8/image001.png" width="400"></div>
                        
                        <p>זהו כל התוכן של דף סטנדרטי בגירסת ,blazor השרת החזיר div  אחד וכל התוכן המדהים שמוצג לעיני הגולש מבוסס על פעולות שמתבצעות בצד לקוח באמצעות קבצי ה Js  של blazor שהם יבנו את התוכן של הדף על בסיס העבודה שבניתם בפרוייקט. </p>
                        
                        <p>מי שמכיר את הספרייה react js אז זה ממש כך גם אצלנו!</p>
                        
                        <p>הגישה הזאת מצויינת ועובדת כמובן נהדר, אבל יש לזה כמה חסרונות.</p>
                        
                        <p>חסרון אחד קשור לביצועים, ככל שתוכן הדף גדול ומורכב יותר, הדף יוצר בהתאם לכוח המחשוב של הלקוח, ואם הוא משתמש במכשיר עם כוח מחשוב דל, כגון מחשבים חלשים, או מכשירים ניידים ללא מעבד חזק או זכרון פנימי גדול, הדבר יוביל לזמן טעינת דף ארוכה ולפעמים מתישה. </p>
                        
                        <p>בעיה נוספת היא עבודתם של מנועי החיפוש וקידום האתר, כיון שהתוכן שהשרת שולח הוא דף ריק, מנועי החיפוש שעוקבים אחרי הנתונים שנשלחים, מזהים את הדף בטעות כחסר תוכן, והדבר פוגע ביכולות שלהם לקדם את תוכן האתר. </p>
                        
                        <p>לעומת זאת הגישה השניה להצגת תוכן אינטרנט הוא בגישה SSR  = server side render , בגישה זו השרת נכנס לפעולה, ומרנדר את כל התוכן ל Html  רגיל, מה שישלח ללקוח הוא דף מלא בתוכן שנבנה בשרת, השרת כמובן עשיר בכוח מחשוב כך שהביצועים יהיו מהירים יותר, והלקוח יחווה חוויה עשירה ומהירה יותר. </p>
                        
                        <p>זהו חלק מתוכן הדף שמוצג ב blazor dotnet 8 </p>
                        
                        <div class="text-center"><img src="../img/imgnew/dot8/image002.png" width="400"></div>
                        
                        <p>שימו לב לשינויים בגירסה זו השרת החזיר את תוכן הדף כרכיבי אינטרנט מוכרים, כך שפעולות הרינדור נעשתה בשרת וללקוח נשאר רק להשתמש בתוכן. (למפתחי js  - שווה ערך ל – next js).</p>
                        
                        <p>טוב אז אם זה כל כך פשוט, למה עד עכשיו לא עשינו את זה כך?</p>
                        
                        <p>אז שימו לב שזה בכלל לא פשוט, השרת כמובן ידע להתמודד עם הרינדור של blazor ויעשה בשבילנו את העבודה הזו, אבל מה יקרה אם יש לנו לחצן בדף, כן הכפתור הפשוט ביותר כמו שאנחנו מכירים ב blazor של רכיב counter שכל לחיצה מגדילה את המספר, אם נעבוד בגישה של SSR  זה פשוט לא יעבוד! מדוע? כיון שמה שנשלח ללקוח זה מידע סטטי של html שכמובן אינו מכיר בשפת c# כך שאין כל דרך לבצע פעולות שמבוססות על הקודים שכתבנו. </p>
                        
                        <p>אבל אל דאגה מצאנו לזה פתרון, מכריזים מייקרוסופט, נוכל להשתמש באינטראקציה שמסופקת על ידי blazor server  או wasm.</p>
                        
                        <p>רק רגע, אבל השרת מחזיר מידע סטטי, אז מהיכן יגיעו האינטרקציות האלו. אז אולי נשאיר את כל האתר כ server  או wasm, וזהו. </p>
                        
                        <p>אבל שימו לב, ברוב מוחלט האתרים שאתם גולשים אליהם, רוב המידע המוצג שם הוא מידע סטטי, ורק חלקים מסויימים באתר מבוצעת בהם אינטרקאציה (למי שעדיין לא ברור לו למה הכוונה – הכוונה לפעולות שמתבצעות באתר לאחר שהוא עלה כגון לחיצת כפתור שעושה פעולה חשבונאית כל שהיא וכדו'), אז נוכל לבסס את האתר כולו על SSR  וחלקים שיצטרכו אינטרקציה, נעניק להם אותה על ידי שנגדיר את הרכיבים הללו כבעלי אינטרקאקציה על בסיס server  או wasm!</p>
                        
                        <p>הדף כולו יהיו מבוסס על SSR  ובתוכו חלון או איזור מסויים שיהיה ws או wasm!</p>
                        
                        <p>פתרון נוסף לבעיה מוכרת למפתחי blazor  תודה אם פיתחתם כבר אתר שמבוסס על blazor server בוודאי נתקלים שברגע שהשרת מכובה, במקרה של סביבת פיתוח פשוט סגרתם את החלון השחור, ובמקרה של סביבת ייצור אירע ניתוק מסוים מהאינטרנט, האתר מיד מפסיק להיות שימושי לא ניתן להשתמש בו יותר, המסך מחשיך, ויהיה כתוב הודעת שגיאה כזאת - אין אפשרות להשתמש באתר בגלל שהוא לא מחובר לאינטרנט, לעומת זאת באתר שמבוסס על wasm גם כשהאינטרנט התנתק עדיין האתר פעיל וכל חלקי האתר שכבר ירדו אני אוכל להשתמש בהם.</p>
                        
                        <p>החיסרון wasm כמו שאתם כבר יודעים זה שזמני הטעינה הם ארוכים יותר בהשוואה ל server. </p>
                        
                        <p>ואז היה רעיון לפתור את שתי הבעיות כאחד, מצד אחד לקבל את זמני טעינה מהירים כמו של server, ומצד שני לאפשר תנועה בתוך האתר גם במצב של ניתוק מהאינטרנט כמו wasm.</p>
                        
                        <p> מצב רינדור זה נקרא מצב רינדור אוטומטי המשמעות היא כשאנחנו נכנסים לאתר מתבצע תהליך של web socket ומאחורי הקלעים הקבצים יורדים ב wasm, מה שאומר שהטעינה תהיה מהירה, מיידית, ולאחר הטעינה המהירה והמיידית שלנו הקבצים יורדים אלינו למחשב ככה שגם במקרה של ניתוק מהאינטרנט האתר עדיין יעבוד ואני אוכל אפילו לדפדף בו, וכמובן בזמן הגלישה באתר אני ארגיש את המהירות ממש כאילו האתר שלי זה אפליקציה שמותקנת על המחשב.</p>
                        
                        <p>זה לדעתי אחד היתרונות הגדולים שמציע דוט נט 8 שניתן למעשה ליהנות מכל העולמות, גם מזמני טעינה מהירים, וגם מגלישה מהירה ואפילו במצב של ניתוק מהאינטרנט לאחר מכן.</p>
                        
                        <p>אבל לא הכל ורוד, שימו לב שברגע שאנחנו מתבססים על ssr יהיה לנו בעיה נוספת, אנחנו יודעים שכשבונים אתר ב blazor אפשר לבצע פעולות בצורה אסינכרוניות המשמעות היא שאם הדף צריך להשתמש בנתונים רבים, הלקוח שגולש באתר לא יצטרך לחכות לכל טעינת הנתונים, אלא האתר יעלה והנתונים שעדיין בתהליך טעינה, תהיה איזה הודעה מסויימת שתודיע לי שהם בטעינה, וצריך לחכות כמה שניות אבל יתר האתר כבר יעלה.</p>
                        
                        <p>הבעיה היא שאם אנחנו מתבססים על ssr הדבר הזה פשוט לא יעבוד, משום כשאין שום תקשורת בין הלקוח לשרת לאחר שנוצר הדף, ולכן כדי שהשרת יוכל לייצר את הדף הרצוי, הוא יצטרך לטעון את כל הנתונים לדוגמה מסד הנתונים, ורק אז לשלוח את הדף הרצוי ככה ששוב זמני הטעינה יהיו ארוכים יותר ואיטיים יותר.</p>
                        
                        <p>אבל גם את זה מיקרוסופט פתרו וניתן להוסיף attributes שיעשה את העבודה, וייתן את הנתונים שכרגע זמינים, ויציג לנו אותם, והנתונים שעדיין לא מוכנים להצגה, הם יישלחו אלינו בהמשך, ניתן לראות את הדוגמה בסרטון המצורף.</p>
                        
                        <p>בעיה נוספת שמוכרת שקשורה גם לעבודה עם SSR, היא בעיית הניווט, ברגע שאנחנו עוברים לדף אחר שבגדול מכיל את רוב הדברים שמכיל הדף הראשון, רק נתונים מסוימים משתנים, אז אנחנו יודעים שאם אנחנו עובדים עם אפליקציית דף אחד, אז רק הנתונים שבאמת משתנים ישתנו ויישלחו, ויתר הדף נשאר כמו שהוא היה, מה שגורם לפעולת ניווט מהירה הרבה יותר</p>
                        
                        <p>ושוב אם אנחנו עובדים עם ssr ואין שום תקשורת בין הלקוח לשרת לאחר שהדף נשלח, בהכרח  כשאני אעבור לדף אחר אז הדף כולו יטען מחדש, כולל רכיבי הניווט או חלקים אחרים שהם כבר היו קיימים בדף הקודם, וזה מבחינתנו הוא מיותר לחלוטין</p>
                        
                        <p>כדי לפתור את זה יצרו מפתחי דוט נט, תהליך שנקרא ניווט משופר שבמהלך הניווט מהדף תתבצע בדיקה איזה רכיבים השתנו ואיזה לא, ורק אותם נתעדכן ואת יתר הרכיבים לא.</p>
                        
                        <p>בנוסף באמצעות ניווט משופר, ניתן לשמור על ערכים מסוימים שהוזנו בשדות גם בזמן ניווט לדף אחר.</p>
                        
                        <p>אילו היו עיקרי הדברים שנוספו בדוט נט 8 בהקשר של עבודה עם בלייזר, מוזמנים לחקור ולהתנסות משום שמדובר בהחלט מהפכה שעשויה לשנות את פני האינטרנט, בשנים הקרובות וכנראה שזה לא המילה האחרונה.</p>
                        
                        <p>ראוי לציין גם שנוספו מספר רכיבים חדשים להקל עלינו את העבודה כגון רכיב Section וכן רכיב שמאפשר יצירת טבלת נתונים די מהירה.</p>
                        
                        <p>אם אתם שואלים האם כדאי להתחיל לפתח על בסיס דוט נט 8 או להסתפק בגישה שהיינו משתמשים בה עד היום, תלוי בהחלט בצרכים שלכם ובגודל האתר שלכם, ככל שהאתר שלכם גדול יותר ומורכב יותר וחשוב לכם יותר ביצועים משמעותיים משופרים יותר, תשקלו בהחלט לפתח בסגנון של 8 אבל אם האתר שלכם הוא קטן, ולא מכיל דפים רבים, ולא משתמש בנתונים רבים, תוכלו בהחלט להישאר עם הגישה הקודמת, משום שהשיפורים בביצועים לא היו מורגשים כל כך.</p>
                        
                        <p>אתם מוזמנים לקרוא עוד על החידושים של דוט נט 8 בתיעוד הרשמי באתר מיקרוסופט youtube + מקורות נוספים.</p>
                        
                        <p>תודה על הקריאה!</p>
                        
                        </div>
                           
                            
                        </p>
                    </div>
                </div>
            </div>
        </article>
        <!-- Footer-->
        <footer class="border-top">
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        <ul class="list-inline text-center">
                            <li class="list-inline-item">
                                <a href="#!">
                                    <span class="fa-stack fa-lg">
                                        <i class="fas fa-circle fa-stack-2x"></i>
                                        <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li class="list-inline-item">
                                <a href="#!">
                                    <span class="fa-stack fa-lg">
                                        <i class="fas fa-circle fa-stack-2x"></i>
                                        <i class="fab fa-facebook-f fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li class="list-inline-item">
                                <a href="#!">
                                    <span class="fa-stack fa-lg">
                                        <i class="fas fa-circle fa-stack-2x"></i>
                                        <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                        </ul>
                        <div class="small text-center text-muted fst-italic">Bs dot-net - 2024</div>
                    </div>
                </div>
            </div>
        </footer>
        <!-- Bootstrap core JS-->
       
    </body>
</html>
